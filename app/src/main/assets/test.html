<!DOCTYPE html>
<html>
<head>
    <title></title>
</head>
<body>
<button type="button" onclick="App.backPress()" class="btn">Backpress</button>
<br/>

<button type="button" onclick="App.close()" class="btn">Close</button>
<br/>

<button type="button" onclick="showVersionName()" class="btn">Version Name</button>
<i id="versionNameLabel"></i> <br/>

<button type="button" onclick="showVersionCode()" class="btn">Version Code</button>
<i id="versionCodeLabel"></i> <br/>

<button type="button" onclick="storePreferences()" class="btn">Store</button>

<button type="button" onclick="loadPreferences()" class="btn">Load</button>
<i id="loadLabel"></i> <br/>

<button type="button" onclick="loadPreferenceWithCallback()" class="btn">Load (Callback)</button>
<i id="loadCallbackLabel"></i> <br/>

<button type="button" onclick="postMessageTest()" class="btn">Post Message Test</button>
<i id="callbackLabel"></i> <br/>

<script>

    function showVersionName() {
         document.getElementById('versionNameLabel').innerText = App.versionName();
    }

    function showVersionCode() {
       document.getElementById('versionCodeLabel').innerText = App.versionCode();
    }

    function storePreferences() {
        App.storePreference("myKey", "myValue" + Math.floor((Math.random() * 10) + 1));
    }

    function loadPreferences() {
        document.getElementById('loadLabel').innerText = App.loadPreference("myKey", "");
    }

    function setLoadCallbackLabel(value) {
         document.getElementById('loadCallbackLabel').innerText = value;
    }

    function loadPreferenceWithCallback() {
        App.loadPreferenceWithCallback("myKey", "", 'setLoadCallbackLabel');
    }

    let content =  {
      data: [
        {
          action: "TOKEN_LOGIN",
          content: "xyz",
          order: 0
        },
        {
          action: "SHOW_INBOX",
          content: true,
          order: 2
        },
        {
          action: "CLOSE_WEBVIEW",
          content: true,
          order: 1
        }
      ]
    };

    function postMessageTest() {
        App.postMessage(JSON.stringify(content));
        App.postMessage(JSON.stringify(content), 'donePostingMessage');
    }

    function donePostingMessage() {
         document.getElementById('callbackLabel').innerText = "done";
    }


</script>

</body>
</html>